<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GTM sample</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-8M15LETL2W');
    </script>
    <!-- Facebook Pixel Code -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '{your-pixel-id-goes-here}');
        fbq('track', 'PageView');
    </script>
</head>
<body>
    <section id="banner">
        <div>
            <img
                src="https://www.linguahouse.com/linguafiles/md5/d01dfa8621f83289155a3be0970fb0cb"
                alt="resturant image"
                width="100%"
                class="max-h-96 object-cover object-top"
            >
        </div>
    </section>
    <article>
        <div class="container mx-auto my-8">
            <div class="my-8">
                <h1 class="text-center text-5xl">
                    SUMMER STORM
                </h1>
                <p class="text-center text-xl">
                    The finest fusion cuisine in Bangkok
                </p>
            </div>
            <div class="mx-4">
                <p class="indent-8 mb-4">
                    It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).
                </p>
                <p class="indent-8 mb-4">
                    There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which looks reasonable. The generated Lorem Ipsum is therefore always free from repetition, injected humour, or non-characteristic words etc.
                </p>
                <div class="flex justify-center">
                    <a id="get-direction-btn" href="https://goo.gl/maps/VQKzMhpreC5SKEfQ7" target="_blank" class="outline border border-indigo-500 text-indigo-500 text-bold rounded px-8 py-2 mx-4">
                        Get Direction
                    </a>
                    <button id="reservation-btn" class="border border-indigo-500 bg-indigo-500 text-white text-bold rounded px-8 py-2 mx-4">
                        Reservation
                    </button>
                </div>
            </div>
        </div>
    </article>
    <section id="reservation" class="hidden">
        <div class="container mx-auto">
            <form class="mx-8">
                <h2 class="text-center text-3xl">Reservation</h2>
                <div class="mb-6">
                    <label for="fullname" class="block mb-2 text-sm text-gray-600 dark:text-gray-200">
                        Name
                    </label>
                    <input
                        type="text"
                        class="block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-md dark:placeholder-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40 disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none"
                        name="name"
                        placeholder="ex. Maetad Sukarasud"
                    >
                </div>
                <div class="mb-6">
                    <label for="contact" class="block mb-2 text-sm text-gray-600 dark:text-gray-200">
                        Contact number
                    </label>
                    <input
                        type="tel"
                        class="block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-md dark:placeholder-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40 disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none"
                        name="contact"
                        placeholder="ex. 0840840846"
                    >
                </div>
                <div class="mb-6">
                    <label for="date" class="block mb-2 text-sm text-gray-600 dark:text-gray-200">
                        Reversation date
                    </label>
                    <input
                        type="date"
                        class="block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-md dark:placeholder-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40 disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none"
                        name="date"
                    >
                </div>
                <div class="mb-6">
                    <label for="time" class="block mb-2 text-sm text-gray-600 dark:text-gray-200">
                        Reversation time
                    </label>
                    <select
                        class="block w-full px-4 py-2 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-md dark:placeholder-gray-600 dark:bg-gray-900 dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40 disabled:bg-slate-50 disabled:text-slate-500 disabled:border-slate-200 disabled:shadow-none"
                        name="time"
                    >
                        <option selected disabled>Please select your time</option>
                        <option value="16:00">16:00</option>
                        <option value="17:00">17:00</option>
                        <option value="18:00">18:00</option>
                        <option value="19:00">19:00</option>
                        <option value="20:00">20:00</option>
                        <option value="21:00">21:00</option>
                        <option value="22:00">22:00</option>
                        <option value="23:00">23:00</option>
                    </select>
                </div>
                <div class="mb-6 text-center">
                    <button id="make-reservation-btn" class="inline-flex items-center border border-indigo-500 bg-indigo-500 text-white text-bold rounded px-8 py-2 mx-4">
                        <svg class="hidden animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                        <span>Make reservation</span>
                    </button>
                </div>
            </form>
        </div>
    </section>
    <div id="thank-you-modal" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 md:inset-0 h-modal md:h-full justify-center items-center flex bg-black/50">
        <div class="relative p-4 w-full max-w-2xl h-full md:h-auto">
            <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
                <!-- Modal body -->
                <div class="p-6 space-y-6">
                    <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                        Thank you for reservation
                    </p>
                    <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                        We'll contact you shortly
                    </p>
                </div>
                <!-- Modal footer -->
                <div class="flex items-center p-6 space-x-2 rounded-b border-t border-gray-200 dark:border-gray-600">
                    <button class="text-white bg-indigo-500 hover:bg-indigo-700 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('reservation-btn').onclick = (e) => {
            document.getElementById('reservation').classList.remove('hidden')
            document.getElementById('reservation-btn').setAttribute('disabled', true)
            document.getElementById('reservation').scrollIntoView()

            // tag
            gtag('event', 'click', {
                event_category: 'CTA',
                event_label: 'Reservation'
            })

            gtag('event', 'pageview', {
                page_location: '/reservation',
                page_title: 'Reservation'
            })
        }

        document.getElementById('get-direction-btn').onclick = (e) => {
            // tag
            gtag('event', 'click', {
                event_category: 'CTA',
                event_label: 'Get Direction'
            })
        }

        document.getElementById('make-reservation-btn').onclick = (e) => {
            e.preventDefault()

            // tag
            gtag('event', 'click', {
                event_category: 'CTA',
                event_label: 'Make Reservation'
            })

            document.querySelectorAll('#reservation form [name]').forEach(($ele) => {
                $ele.setAttribute('disabled', true)
                document.querySelector('#make-reservation-btn svg').classList.remove('hidden')
                document.querySelector('#make-reservation-btn span').innerHTML = 'Making Reservation'
                setTimeout(() => {
                    document.getElementById('thank-you-modal').classList.remove('hidden')

                    gtag('event', 'pageview', {
                        'page_location': '/reservation/success',
                        'page_title': 'Reservation Success'
                    })

                    fbq('track', 'Lead', {
                        content_name: 'Reservation Success'
                    });
                }, 1000)
            })

            return true
        }

        document.querySelector('#thank-you-modal button').onclick = (e) => {
            e.preventDefault()
            document.getElementById('thank-you-modal').classList.add('hidden')

            document.querySelectorAll('#reservation form [name]').forEach(($ele) => {
                $ele.setAttribute('disabled', false)
                document.querySelector('#make-reservation-btn svg').classList.add('hidden')
                document.querySelector('#make-reservation-btn span').innerHTML = 'Make Reservation'
            })
        }
    </script>
</body>
</html>
